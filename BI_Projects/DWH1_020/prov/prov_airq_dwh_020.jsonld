{
  "@context": {
    "prov": "http://www.w3.org/ns/prov#",
    "dct": "http://purl.org/dc/terms/",
    "xsd": "http://www.w3.org/2001/XMLSchema#"
  },
  "@graph": [
    {
      "@id": "oltp://tb_campaign",
      "@type": "prov:Entity",
      "dct:title": "tb_campaign",
      "dct:format": "text/csv"
    },
    {
      "@id": "oltp://tb_campaign_device",
      "@type": "prov:Entity",
      "dct:title": "tb_campaign_device",
      "dct:format": "text/csv"
    },
    {
      "@id": "file:csv/tb_city.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_city.csv",
      "dct:format": "text/csv",
      "contentHash": "1dff80d0e34558a9adb2a0524a7e234280ea67bf8a7310bc32378a1a96f07530"
    },
    {
      "@id": "file:csv/tb_country.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_country.csv",
      "dct:format": "text/csv",
      "contentHash": "7d205d5ea3112b8b053d2c117665a1b87499bd426d5d58c3ded8cd9c9dfdc475"
    },
    {
      "@id": "file:csv/tb_employee.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_employee.csv",
      "dct:format": "text/csv",
      "contentHash": "ef28b582ef29fd2626eec4710e709d938580a5d195da4d3cfb516b49115cb26a"
    },
    {
      "@id": "file:csv/tb_param.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_param.csv",
      "dct:format": "text/csv",
      "contentHash": "4190e2a1b24d62390c6bd464271617029c0648ed9c420dfa8abc1c7c59555b15"
    },
    {
      "@id": "file:csv/tb_paramalert.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_paramalert.csv",
      "dct:format": "text/csv",
      "contentHash": "d8da560f83d09dd7cab12c3d84078b1bea605ab6c0e727ae9f47777269891826"
    },
    {
      "@id": "file:csv/tb_readingevent.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_readingevent.csv",
      "dct:format": "text/csv",
      "contentHash": "fe1f8efce86a0c08d7c4a7bec96ea6e4a69d54257ed486ba15b0bbffbe5ae022"
    },
    {
      "@id": "file:csv/tb_readingmode.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_readingmode.csv",
      "dct:format": "text/csv",
      "contentHash": "1809b75c0b6c73e685f0f2f4260485f28ed26683295067a49f00191abf61cfe4"
    },
    {
      "@id": "file:csv/tb_role.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_role.csv",
      "dct:format": "text/csv",
      "contentHash": "0a18c7a44bbbacfb48c8e3b41f3ee0faa73e2203fd99a5490658cac7991645af"
    },
    {
      "@id": "file:csv/tb_sensordevice.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_sensordevice.csv",
      "dct:format": "text/csv",
      "contentHash": "3e57052122a45c0217a067eac7b7e5af4e6a6524fa06e4faf707273eaca959e8"
    },
    {
      "@id": "file:csv/tb_serviceevent.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_serviceevent.csv",
      "dct:format": "text/csv",
      "contentHash": "d8ba76c8a64a77c28820b196a43af49b709654c1e7a92b6343f58eb653daaf48"
    },
    {
      "@id": "file:csv/tb_servicetype.csv",
      "@type": "prov:Entity",
      "dct:title": "tb_servicetype.csv",
      "dct:format": "text/csv",
      "contentHash": "4f863b48dbdb7e2960c40ee1ef3b883f148fcbd6ac24505c66699fe4ab257e98"
    },
    {
      "@id": "file:etl/a1_etl01_dim_timeday.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl01_dim_timeday.sql",
      "dct:format": "text/sql",
      "contentHash": "68e6fe1b1e68afba572548e8a1c66ea3c75131b414b8600756a133b1d806c68f"
    },
    {
      "@id": "file:etl/a1_etl02_dim_servicetype.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl02_dim_servicetype.sql",
      "dct:format": "text/sql",
      "contentHash": "4d708318751ca0bacf5b93183f7bf210bdba1b94d3142ddca53582760aa81da6"
    },
    {
      "@id": "file:etl/a1_etl03_dim_parameter.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl03_dim_parameter.sql",
      "dct:format": "text/sql",
      "contentHash": "4b81dadb728c282a8ad079ab125f21ca6d6dd71ce686a6d6d3f85a860d931af0"
    },
    {
      "@id": "file:etl/a1_etl04_dim_technician_role_scd2.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl04_dim_technician_role_scd2.sql",
      "dct:format": "text/sql",
      "contentHash": "cadc53be1ee0f80e1edc3c1c9bfc203724de5bf73a4a44de06b0b3cb00b7ac95"
    },
    {
      "@id": "file:etl/a1_etl05_dim_campaign.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl05_dim_campaign.sql",
      "dct:format": "text/sql",
      "contentHash": "5af89f7b58b1664519c61b1d61b9ae64e179c57ce2692b268e3ca18c5964e012"
    },
    {
      "@id": "file:etl/a1_etl05a_dim_device_geo.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl05a_dim_device_geo.sql",
      "dct:format": "text/sql",
      "contentHash": "69995e4d33fde80019b529796243e17190fe6b79894fcb1e68364f9205a306f9"
    },
    {
      "@id": "file:etl/a1_etl05b_dim_readingmode.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl05b_dim_readingmode.sql",
      "dct:format": "text/sql",
      "contentHash": "57906dab73c64813d4a7018128677e9ad6226822c4e17702faf5912dd2ed8b85"
    },
    {
      "@id": "file:etl/a1_etl06_ft_reading.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl06_ft_reading.sql",
      "dct:format": "text/sql",
      "contentHash": "2a239761fd2cb72b844f8c47c0d3b74a30395b1299fbc028d379928f3c91ccdf"
    },
    {
      "@id": "file:etl/a1_etl07_ft_service.sql",
      "@type": [
        "prov:Entity",
        "prov:Plan"
      ],
      "dct:title": "a1_etl07_ft_service.sql",
      "dct:format": "text/sql",
      "contentHash": "acc01aabaa019f28208c0c73f905e8dc14b56bebef0a57a2e981f6c4682db98a"
    },
    {
      "@id": "db://airq/dwh_020/dim_campaign",
      "@type": "prov:Entity",
      "dct:title": "dim_campaign",
      "rowCount": 6
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo",
      "@type": "prov:Entity",
      "dct:title": "dim_device_geo",
      "rowCount": 627
    },
    {
      "@id": "db://airq/dwh_020/dim_parameter",
      "@type": "prov:Entity",
      "dct:title": "dim_parameter",
      "rowCount": 30
    },
    {
      "@id": "db://airq/dwh_020/dim_readingmode",
      "@type": "prov:Entity",
      "dct:title": "dim_readingmode",
      "rowCount": 8
    },
    {
      "@id": "db://airq/dwh_020/dim_servicetype",
      "@type": "prov:Entity",
      "dct:title": "dim_servicetype",
      "rowCount": 24
    },
    {
      "@id": "db://airq/dwh_020/dim_technician_role_scd2",
      "@type": "prov:Entity",
      "dct:title": "dim_technician_role_scd2",
      "rowCount": 484
    },
    {
      "@id": "db://airq/dwh_020/dim_timeday",
      "@type": "prov:Entity",
      "dct:title": "dim_timeday",
      "rowCount": 1404
    },
    {
      "@id": "db://airq/dwh_020/ft_reading",
      "@type": "prov:Entity",
      "dct:title": "ft_reading",
      "rowCount": 3942292,
      "dct:description": "Grain: One row per sensor reading event per device per day.",
      "measures": [
        {
          "name": "recorded_value",
          "agg": "AVG"
        },
        {
          "name": "data_volume_mb",
          "agg": "SUM",
          "fully_additive": true
        },
        {
          "name": "data_quality_score",
          "agg": "AVG"
        },
        {
          "name": "exceedance_flag",
          "agg": "COUNT"
        }
      ]
    },
    {
      "@id": "db://airq/dwh_020/ft_service",
      "@type": "prov:Entity",
      "dct:title": "ft_service",
      "rowCount": 22720,
      "dct:description": "Grain: One row per service event per device per day.",
      "measures": [
        {
          "name": "service_cost_eur",
          "agg": "SUM",
          "fully_additive": true
        },
        {
          "name": "duration_minutes",
          "agg": "SUM",
          "fully_additive": true
        },
        {
          "name": "service_quality_score",
          "agg": "AVG"
        },
        {
          "name": "underqualified_flag",
          "agg": "COUNT"
        }
      ]
    },
    {
      "@id": "urn:airq:etl:group:020:2025-11-04T15:20:15Z",
      "@type": "prov:Activity",
      "dct:description": "Assignment 1 ETL run for dwh_020",
      "prov:startedAtTime": "2025-11-04T15:20:15Z",
      "prov:endedAtTime": "2025-11-04T15:20:15Z",
      "prov:used": [
        "oltp://tb_campaign",
        "oltp://tb_campaign_device",
        "file:csv/tb_city.csv",
        "file:csv/tb_country.csv",
        "file:csv/tb_employee.csv",
        "file:csv/tb_param.csv",
        "file:csv/tb_paramalert.csv",
        "file:csv/tb_readingevent.csv",
        "file:csv/tb_readingmode.csv",
        "file:csv/tb_role.csv",
        "file:csv/tb_sensordevice.csv",
        "file:csv/tb_serviceevent.csv",
        "file:csv/tb_servicetype.csv",
        "file:etl/a1_etl01_dim_timeday.sql",
        "file:etl/a1_etl02_dim_servicetype.sql",
        "file:etl/a1_etl03_dim_parameter.sql",
        "file:etl/a1_etl04_dim_technician_role_scd2.sql",
        "file:etl/a1_etl05_dim_campaign.sql",
        "file:etl/a1_etl05a_dim_device_geo.sql",
        "file:etl/a1_etl05b_dim_readingmode.sql",
        "file:etl/a1_etl06_ft_reading.sql",
        "file:etl/a1_etl07_ft_service.sql"
      ],
      "prov:generated": [
        "db://airq/dwh_020/dim_campaign",
        "db://airq/dwh_020/dim_device_geo",
        "db://airq/dwh_020/dim_parameter",
        "db://airq/dwh_020/dim_readingmode",
        "db://airq/dwh_020/dim_servicetype",
        "db://airq/dwh_020/dim_technician_role_scd2",
        "db://airq/dwh_020/dim_timeday",
        "db://airq/dwh_020/ft_reading",
        "db://airq/dwh_020/ft_service"
      ],
      "prov:wasAssociatedWith": [
        "urn:person:A",
        "urn:person:B",
        "urn:software:jupyter",
        "urn:software:postgres",
        "urn:software:os"
      ],
      "prov:qualifiedAssociation": [
        {
          "@type": "prov:Association",
          "prov:agent": "urn:person:A",
          "prov:hadRole": "owner:ft_reading"
        },
        {
          "@type": "prov:Association",
          "prov:agent": "urn:person:B",
          "prov:hadRole": "owner:ft_service"
        }
      ]
    },
    {
      "@id": "urn:person:A",
      "@type": "prov:Agent",
      "dct:title": "Bashir, Muhammad Sajid (52400204)"
    },
    {
      "@id": "urn:person:B",
      "@type": "prov:Agent",
      "dct:title": "Shahin, Eman (12432813)"
    },
    {
      "@id": "urn:software:jupyter",
      "@type": "prov:SoftwareAgent",
      "dct:title": "Jupyter Notebook"
    },
    {
      "@id": "urn:software:postgres",
      "@type": "prov:SoftwareAgent",
      "dct:title": "PostgreSQL"
    },
    {
      "@id": "urn:software:os",
      "@type": "prov:SoftwareAgent",
      "dct:title": "nt"
    },
    {
      "@id": "db://airq/dwh_020/ft_reading#derivation-tb_readingevent",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/ft_reading",
      "prov:usedEntity": "file:csv/tb_readingevent.csv",
      "dct:description": "Student A owns Fact 1 (ft_reading); these OLTP tables provide sensor readings, alerts, and lookup data for devices, parameters, and campaigns."
    },
    {
      "@id": "db://airq/dwh_020/ft_reading#derivation-tb_paramalert",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/ft_reading",
      "prov:usedEntity": "file:csv/tb_paramalert.csv",
      "dct:description": "Student A owns Fact 1 (ft_reading); these OLTP tables provide sensor readings, alerts, and lookup data for devices, parameters, and campaigns."
    },
    {
      "@id": "db://airq/dwh_020/dim_parameter#derivation-dim_parameter-tb_param",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_parameter",
      "prov:usedEntity": "file:csv/tb_param.csv",
      "dct:description": "dim_parameter ← tb_param"
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo#derivation-dim_device_geo-tb_sensordevice",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_device_geo",
      "prov:usedEntity": "file:csv/tb_sensordevice.csv",
      "dct:description": "dim_device_geo ← tb_sensordevice"
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo#derivation-dim_device_geo-tb_city",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_device_geo",
      "prov:usedEntity": "file:csv/tb_city.csv",
      "dct:description": "dim_device_geo ← tb_city"
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo#derivation-dim_device_geo-tb_country",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_device_geo",
      "prov:usedEntity": "file:csv/tb_country.csv",
      "dct:description": "dim_device_geo ← tb_country"
    },
    {
      "@id": "db://airq/dwh_020/dim_readingmode#derivation-dim_readingmode-tb_readingmode",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_readingmode",
      "prov:usedEntity": "file:csv/tb_readingmode.csv",
      "dct:description": "dim_readingmode ← tb_readingmode"
    },
    {
      "@id": "db://airq/dwh_020/dim_campaign#derivation-dim_campaign-tb_campaign",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_campaign",
      "prov:usedEntity": "oltp://tb_campaign",
      "dct:description": "dim_campaign ← tb_campaign"
    },
    {
      "@id": "db://airq/dwh_020/dim_campaign#derivation-dim_campaign-tb_campaign_device",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_campaign",
      "prov:usedEntity": "oltp://tb_campaign_device",
      "dct:description": "dim_campaign ← tb_campaign_device"
    },
    {
      "@id": "db://airq/dwh_020/ft_service#derivation-tb_serviceevent",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/ft_service",
      "prov:usedEntity": "file:csv/tb_serviceevent.csv",
      "dct:description": "Student B owns Fact 2 (ft_service); these OLTP tables provide maintenance events, technician role lookups, and campaign associations."
    },
    {
      "@id": "db://airq/dwh_020/dim_servicetype#derivation-dim_servicetype-tb_servicetype",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_servicetype",
      "prov:usedEntity": "file:csv/tb_servicetype.csv",
      "dct:description": "dim_servicetype ← tb_servicetype"
    },
    {
      "@id": "db://airq/dwh_020/dim_technician_role_scd2#derivation-dim_technician_role_scd2-tb_employee",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_technician_role_scd2",
      "prov:usedEntity": "file:csv/tb_employee.csv",
      "dct:description": "dim_technician_role_scd2 ← tb_employee"
    },
    {
      "@id": "db://airq/dwh_020/dim_technician_role_scd2#derivation-dim_technician_role_scd2-tb_role",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_technician_role_scd2",
      "prov:usedEntity": "file:csv/tb_role.csv",
      "dct:description": "dim_technician_role_scd2 ← tb_role"
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo#derivation-dim_device_geo-tb_sensordevice",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_device_geo",
      "prov:usedEntity": "file:csv/tb_sensordevice.csv",
      "dct:description": "dim_device_geo ← tb_sensordevice"
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo#derivation-dim_device_geo-tb_city",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_device_geo",
      "prov:usedEntity": "file:csv/tb_city.csv",
      "dct:description": "dim_device_geo ← tb_city"
    },
    {
      "@id": "db://airq/dwh_020/dim_device_geo#derivation-dim_device_geo-tb_country",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_device_geo",
      "prov:usedEntity": "file:csv/tb_country.csv",
      "dct:description": "dim_device_geo ← tb_country"
    },
    {
      "@id": "db://airq/dwh_020/dim_campaign#derivation-dim_campaign-tb_campaign",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_campaign",
      "prov:usedEntity": "oltp://tb_campaign",
      "dct:description": "dim_campaign ← tb_campaign"
    },
    {
      "@id": "db://airq/dwh_020/dim_campaign#derivation-dim_campaign-tb_campaign_device",
      "@type": "prov:Derivation",
      "prov:generatedEntity": "db://airq/dwh_020/dim_campaign",
      "prov:usedEntity": "oltp://tb_campaign_device",
      "dct:description": "dim_campaign ← tb_campaign_device"
    }
  ]
}